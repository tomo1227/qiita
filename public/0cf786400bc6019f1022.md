---
title: IAM
tags:
  - AWS
  - Azure
  - GoogleCloud
private: true
updated_at: '2024-05-09T22:38:40+09:00'
id: 0cf786400bc6019f1022
organization_url_name: null
slide: false
ignorePublish: false
---
# IAMとは？

IAM (Identity and Access Management)とは、認証・認可、IDの管理　を実現する仕組み。

認証 : 

# IAMの種類

* CIAM (Customer Identity and Access Management) : 顧客やパートナーなどの外部ユーザーを管理する
* EIAM (Enterprise Identity and Access Management) : 従業員などの内部アイデンティティを管理する

## CIAM

既存の顧客を維持しながら顧客ベースを徐々に拡大できるように、高速、安全、柔軟な認証を提供する。 優れたユーザーエクスペリエンスと、詐欺、侵害、プライバシー侵害からの保護が必要。

## EIAM

従業員が組織で働いている全期間に焦点を当てているため、従来の IAM よりも広範囲。従業員が企業ネットワーク内で実行できる内容を制御でき、外部ユーザーが内部リソースやサービスにアクセスできないようにする必要がある。アクセスは、必要な権限を持つユーザーにのみ提供される必要がある。 また、システムは法的要件を遵守し、データの信頼性と可用性を確保する必要がある。

## CIAM v.s. EIAM

### ユーザ
| 1 | CIAM | EIAM |
|:-:|:-:|:-:|
| ユーザエクスペリエンス  |   |   |
|   |   |   |
|   |   |   |
|   |   |   |
|   |   |   |
|   |   |   |
|   |   |   |
|   |   |   |

外部ユーザーの管理、内部ユーザーの管理
UX は直感的であるべきです、直感的な UX はあると便利です
顧客の動向を常に最新の状態に保つために柔軟である必要があります。頻繁な更新は必要ありません
大規模なユーザー ベース (数百万のユーザー) に対して拡張可能である必要がありますが、ユーザー ベースはかなり少ない (数千のユーザー)
ほとんどのユーザーは自己登録によってオンボーディングされ、ユーザーは組織の管理者によってオンボーディングされます。
登録は簡単であり、ソーシャル ログインがサポートされている必要があります。システムは外部ユーザーがアクセスできないようにする必要があります。
シームレスな顧客エクスペリエンスを確保、権限に応じた安全なアクセスが極めて重要
ユーザーは自分の ID を管理できる必要があります。ユーザー ID は組織によって管理されます。

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156096/71ad264e-f5bc-574d-ae03-789a2ba1f2c9.png)

## AWS v.s. GCP v.s. Azure

Azure と GCP の RBAC モデルは組織構造を模倣しているが、AWS はリソース構造において提供する構造と管理機能が少なくなる。これは、後でさまざまなリソースレベルにわたって権限を設定するときに重要。

[ロールベースアクセス制御（RBAC）とは？ メリットとABACとの比較 | Okta](https://www.okta.com/jp/identity-101/what-is-role-based-access-control-rbac/)

### AWSのリソース構造

AWS では、メインコンテナは AWS アカウントと呼ばれ、リソースをプロビジョニングするために設定および使用できる。企業は通常、複数の AWS アカウントを持つ。アカウントは、AWS クラウドネイティブ サービスであるAWS Organizationsを使用して統合できる。

単一のAWS Organizations ユニットで管理すべきアカウントの数の問題は、infosecコミュニティで常に議論されている。たとえば、開発、運用などのすべての段階で 1 つのアカウントで十分であるという考えに同意する人もいれば、アプリケーションの各段階で 1 つのアカウントを好む人もいる。たとえば、後者の場合、1 つのアカウントは開発、ステージング、および実稼働環境のアプリケーション 1 をカバーし、別のアカウントは開発、ステージング、および実稼働環境のアプリケーション 2 をカバーします。

「ルート」は、すべての組織アカウントの親コンテナ。

![image.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/156096/218b2ae9-4cb7-b860-d48e-0d00619fe516.png)

## GCPのリソース構造

GCP では、基本的なコンテナは「プロジェクト」であり、これには単一のアプリケーションのリソースが含まれる。 「フォルダー」とは、複数のプロジェクトをひとまとめにできる入れ物です。フォルダーは、組織層の上位までネストされた構造で構成される。 GCP では、プロジェクトは請求単位でもある。

## Azureのリソース構造

Azure の構造は、企業の組織構造と一致することを目的とする。

AWS とは異なり、Azure (および GCP) は、より体系的なリソース構造に依存するロールベースのアクセス制御 (RBAC) モデルを採用している。 Azure はプライマリ レベルで、基本的なリソース コンテナーである「リソース グループ」を提供します。各リソース グループ コンテナーは、1 つの特定のアプリケーション向けのすべてのリソースをグループ化するため、それらを一緒にプロビジョニングおよびプロビジョニング解除できる。

リソースグループを保持できるコンテナ : サブスクリプション
サブスクリプションを保持できるコンテナ : 管理グループ(ネスト構造で他の管理グループを保持することも可能)

複数の管理グループは、「ルート管理グループ」で構成される。 Azure では、サブスクリプションは請求単位でもある。

https://www.tenable.com/blog/aws-azure-and-gcp-the-ultimate-iam-comparison
